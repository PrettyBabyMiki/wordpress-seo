(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";

/* global ajaxurl */
/* global wpseoAdminGlobalL10n, wpseoConsoleNotifications */
/* jshint -W097 */
/* jshint unused:false */

(function () {
	/**
  * Displays console notifications.
  *
  * Looks at a global variable to display all notifications in there.
  *
  * @returns {void}
  */
	function displayConsoleNotifications() {
		if (typeof window.wpseoConsoleNotifications === "undefined" || typeof console === "undefined") {
			return;
		}

		/* jshint ignore:start */
		for (var index = 0; index < wpseoConsoleNotifications.length; index++) {
			console.warn(wpseoConsoleNotifications[index]);
		}
		/* jshint ignore:end */
	}

	jQuery(document).ready(displayConsoleNotifications);

	/**
  * Used to dismiss the tagline notice for a specific user.
  *
  * @param {string} nonce
  *
  * @returns {void}
  */
	function wpseoDismissTaglineNotice(nonce) {
		jQuery.post(ajaxurl, {
			action: "wpseo_dismiss_tagline_notice",
			_wpnonce: nonce
		});
	}

	/**
  * Used to remove the admin notices for several purposes, dies on exit.
  *
  * @param {string} option
  * @param {string} hide
  * @param {string} nonce
  *
  * @returns {void}
  */
	function wpseoSetIgnore(option, hide, nonce) {
		jQuery.post(ajaxurl, {
			action: "wpseo_set_ignore",
			option: option,
			_wpnonce: nonce
		}, function (data) {
			if (data) {
				jQuery("#" + hide).hide();
				jQuery("#hidden_ignore_" + option).val("ignore");
			}
		});
	}

	/**
  * Generates a dismissable anchor button
  *
  * @param {string} dismiss_link The URL that leads to the dismissing of the notice.
  *
  * @returns {Object} Anchor to dismiss.
  */
	function wpseoDismissLink(dismiss_link) {
		return jQuery('<a href="' + dismiss_link + '" type="button" class="notice-dismiss">' + '<span class="screen-reader-text">Dismiss this notice.</span>' + "</a>");
	}

	jQuery(document).ready(function () {
		jQuery(".yoast-dismissible").on("click", ".yoast-notice-dismiss", function () {
			var $parentDiv = jQuery(this).parent();

			// Deprecated, todo: remove when all notifiers have been implemented.
			jQuery.post(ajaxurl, {
				action: $parentDiv.attr("id").replace(/-/g, "_"),
				_wpnonce: $parentDiv.data("nonce"),
				data: $parentDiv.data("json")
			});

			jQuery.post(ajaxurl, {
				action: "yoast_dismiss_notification",
				notification: $parentDiv.attr("id"),
				nonce: $parentDiv.data("nonce"),
				data: $parentDiv.data("json")
			});

			$parentDiv.fadeTo(100, 0, function () {
				$parentDiv.slideUp(100, function () {
					$parentDiv.remove();
				});
			});

			return false;
		});

		jQuery(".yoast-help-button").on("click", function () {
			var $button = jQuery(this),
			    helpPanel = jQuery("#" + $button.attr("aria-controls")),
			    isPanelVisible = helpPanel.is(":visible");

			jQuery(helpPanel).slideToggle(200, function () {
				$button.attr("aria-expanded", !isPanelVisible);
			});
		});
	});
	window.wpseoDismissTaglineNotice = wpseoDismissTaglineNotice;
	window.wpseoSetIgnore = wpseoSetIgnore;
	window.wpseoDismissLink = wpseoDismissLink;
})();

(function () {
	"use strict";

	var $ = jQuery;

	/**
  * Hide popup showing new alerts are present
  *
  * @returns {void}
  */
	function hideAlertPopup() {
		$("#wp-admin-bar-root-default > li").off("hover", hideAlertPopup);
		$(".yoast-issue-added").fadeOut(200);
	}

	/**
  * Show popup with new alerts message
  *
  * @returns {void}
  */
	function showAlertPopup() {
		$(".yoast-issue-added").hover(hideAlertPopup).fadeIn();
		$("#wp-admin-bar-root-default > li").on("hover", hideAlertPopup);
		setTimeout(hideAlertPopup, 3000);
	}

	/**
  * Handle dismiss and restore AJAX responses
  *
  * @param {Object} $source Object that triggered the request.
  * @param {Object} response AJAX response.
  *
  * @returns {void}
  */
	function handleDismissRestoreResponse($source, response) {
		$(".yoast-alert-holder").off("click", ".restore").off("click", ".dismiss");

		if (typeof response.html === "undefined") {
			return;
		}

		if (response.html) {
			$source.closest(".yoast-container").html(response.html);
			/* jshint ignore:start */
			/* eslint-disable */
			hookDismissRestoreButtons();
			/* jshint ignore:end */
			/* eslint-enable */
		}

		var $wpseo_menu = $("#wp-admin-bar-wpseo-menu");
		var $issue_counter = $wpseo_menu.find(".yoast-issue-counter");

		if (!$issue_counter.length) {
			$wpseo_menu.find("> a:first-child").append('<div class="yoast-issue-counter"/>');
			$issue_counter = $wpseo_menu.find(".yoast-issue-counter");
		}

		$issue_counter.html(response.total);
		if (response.total === 0) {
			$issue_counter.hide();
		} else {
			$issue_counter.show();
		}

		$("#toplevel_page_wpseo_dashboard .update-plugins").removeClass().addClass("update-plugins count-" + response.total);
		$("#toplevel_page_wpseo_dashboard .plugin-count").html(response.total);
	}

	/**
  * Hook the restore and dismiss buttons
  *
  * @returns {void}
  */
	function hookDismissRestoreButtons() {
		var $dismissible = $(".yoast-alert-holder");

		$dismissible.on("click", ".dismiss", function () {
			var $this = $(this);
			var $source = $this.closest(".yoast-alert-holder");

			var $container = $this.closest(".yoast-container");
			$container.append('<div class="yoast-container-disabled"/>');

			$this.find("span").removeClass("dashicons-no-alt").addClass("dashicons-randomize");

			$.post(ajaxurl, {
				action: "yoast_dismiss_alert",
				notification: $source.attr("id"),
				nonce: $source.data("nonce"),
				data: $source.data("json")
			}, handleDismissRestoreResponse.bind(this, $source), "json");
		});

		$dismissible.on("click", ".restore", function () {
			var $this = $(this);
			var $source = $this.closest(".yoast-alert-holder");

			var $container = $this.closest(".yoast-container");
			$container.append('<div class="yoast-container-disabled"/>');

			$this.find("span").removeClass("dashicons-arrow-up").addClass("dashicons-randomize");

			$.post(ajaxurl, {
				action: "yoast_restore_alert",
				notification: $source.attr("id"),
				nonce: $source.data("nonce"),
				data: $source.data("json")
			}, handleDismissRestoreResponse.bind(this, $source), "json");
		});
	}

	/**
  * Sets the color of the svg for the premium indicator based on the color of the color scheme.
  *
  * @returns {void}
  */
	function setPremiumIndicatorColor() {
		var $premiumIndicator = jQuery(".wpseo-js-premium-indicator");
		var $svg = $premiumIndicator.find("svg");

		// Don't change the color to stand out when premium is actually enabled.
		if ($premiumIndicator.hasClass("wpseo-premium-indicator--no")) {
			var $svgPath = $svg.find("path");

			var backgroundColor = $premiumIndicator.css("backgroundColor");

			$svgPath.css("fill", backgroundColor);
		}

		$svg.css("display", "block");
		$premiumIndicator.css({
			backgroundColor: "transparent",
			width: "20px",
			height: "20px"
		});
	}

	$(document).ready(function () {
		showAlertPopup();
		hookDismissRestoreButtons();
		setPremiumIndicatorColor();
	});
})();

(function () {
	"use strict";

	var $ = jQuery;

	/**
  * Start video if found on the tab
  *
  * @param {object} $tab Tab that is activated.
  *
  * @returns {void}
  */
	function activateVideo($tab) {
		var $data = $tab.find(".wpseo-tab-video__data");
		if ($data.length === 0) {
			return;
		}

		$data.append('<iframe width="560" height="315" src="' + $data.data("url") + '" title="' + wpseoAdminGlobalL10n.help_video_iframe_title + '" frameborder="0" allowfullscreen></iframe>');
	}

	/**
  * Stop playing any video.
  *
  * @returns {void}
  */
	function stopVideos() {
		$("#wpbody-content").find(".wpseo-tab-video__data").children().remove();
	}

	/**
  * Open tab
  *
  * @param {object} $container Container that contains the tab.
  * @param {object} $tab Tab that is activated.
  *
  * @returns {void}
  */
	function openHelpCenterTab($container, $tab) {
		$container.find(".contextual-help-tabs-wrap div").removeClass("active");
		$tab.addClass("active");

		stopVideos();
		activateVideo($tab);
	}

	/**
  * Open Video Slideout
  *
  * @param {object} $container Tab to open video slider of.
  *
  * @returns {void}
  */
	function openVideoSlideout($container) {
		$container.find(".toggle__arrow").removeClass("dashicons-arrow-down").addClass("dashicons-arrow-up");
		$container.find(".wpseo-tab-video-container__handle").attr("aria-expanded", "true");
		$container.find(".wpseo-tab-video-slideout").css("display", "flex");

		var $activeTabLink = $container.find(".wpseo-help-center-item.active > a");

		$("#wpcontent").addClass("yoast-help-center-open");

		if ($activeTabLink.length > 0) {
			var activeTab = $activeTabLink.attr("aria-controls");
			activateVideo($("#" + activeTab));

			$container.on("click", ".wpseo-help-center-item > a", function (e) {
				var $link = $(this);
				var target = $link.attr("aria-controls");

				$container.find(".wpseo-help-center-item").removeClass("active");
				$link.parent().addClass("active");

				openHelpCenterTab($container, $("#" + target));

				e.preventDefault();
			});
		} else {
			activateVideo($container);
		}
	}

	/**
  * Close Video Slideout
  *
  * @returns {void}
  */
	function closeVideoSlideout() {
		var $container = $("#wpbody-content").find(".wpseo-tab-video-container");
		$container.find(".wpseo-tab-video-slideout").css("display", "");

		stopVideos();

		$container.find(".toggle__arrow").removeClass("dashicons-arrow-up").addClass("dashicons-arrow-down");
		$container.find(".wpseo-tab-video-container__handle").attr("aria-expanded", "false");

		$("#wpcontent").removeClass("yoast-help-center-open");
	}

	$(".nav-tab").click(function () {
		closeVideoSlideout();
	});

	$(".wpseo-tab-video-container").on("click", ".wpseo-tab-video-container__handle", function (e) {
		var $container = $(e.delegateTarget);
		var $slideout = $container.find(".wpseo-tab-video-slideout");
		if ($slideout.is(":hidden")) {
			openVideoSlideout($container);
		} else {
			closeVideoSlideout();
		}
	});
})();

},{}]},{},[1])
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9ncnVudC1icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyaWZ5L25vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJqc1xcc3JjXFx3cC1zZW8tYWRtaW4tZ2xvYmFsLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7QUNBQTtBQUNBO0FBQ0E7QUFDQTs7QUFFRSxhQUFXO0FBQ1o7Ozs7Ozs7QUFPQSxVQUFTLDJCQUFULEdBQXVDO0FBQ3RDLE1BQUssT0FBTyxPQUFPLHlCQUFkLEtBQTRDLFdBQTVDLElBQTJELE9BQU8sT0FBUCxLQUFtQixXQUFuRixFQUFpRztBQUNoRztBQUNBOztBQUVEO0FBQ0EsT0FBTSxJQUFJLFFBQVEsQ0FBbEIsRUFBcUIsUUFBUSwwQkFBMEIsTUFBdkQsRUFBK0QsT0FBL0QsRUFBeUU7QUFDeEUsV0FBUSxJQUFSLENBQWMsMEJBQTJCLEtBQTNCLENBQWQ7QUFDQTtBQUNEO0FBQ0E7O0FBRUQsUUFBUSxRQUFSLEVBQW1CLEtBQW5CLENBQTBCLDJCQUExQjs7QUFFQTs7Ozs7OztBQU9BLFVBQVMseUJBQVQsQ0FBb0MsS0FBcEMsRUFBNEM7QUFDM0MsU0FBTyxJQUFQLENBQWEsT0FBYixFQUFzQjtBQUNyQixXQUFRLDhCQURhO0FBRXJCLGFBQVU7QUFGVyxHQUF0QjtBQUtBOztBQUVEOzs7Ozs7Ozs7QUFTQSxVQUFTLGNBQVQsQ0FBeUIsTUFBekIsRUFBaUMsSUFBakMsRUFBdUMsS0FBdkMsRUFBK0M7QUFDOUMsU0FBTyxJQUFQLENBQWEsT0FBYixFQUFzQjtBQUNyQixXQUFRLGtCQURhO0FBRXJCLFdBQVEsTUFGYTtBQUdyQixhQUFVO0FBSFcsR0FBdEIsRUFJRyxVQUFVLElBQVYsRUFBaUI7QUFDbkIsT0FBSyxJQUFMLEVBQVk7QUFDWCxXQUFRLE1BQU0sSUFBZCxFQUFxQixJQUFyQjtBQUNBLFdBQVEsb0JBQW9CLE1BQTVCLEVBQXFDLEdBQXJDLENBQTBDLFFBQTFD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QXBDLENBQWlELG9CQUFqRCxFQUF3RSxRQUF4RSxDQUFrRixzQkFBbEY7QUFDQSxhQUFXLElBQVgsQ0FBaUIsb0NBQWpCLEVBQXdELElBQXhELENBQThELGVBQTlELEVBQStFLE9BQS9FOztBQUVBLElBQUcsWUFBSCxFQUFrQixXQUFsQixDQUErQix3QkFBL0I7QUFDQTs7QUFFRCxHQUFHLFVBQUgsRUFBZ0IsS0FBaEIsQ0FBdUIsWUFBVztBQUNqQztBQUNBLEVBRkQ7O0FBSUEsR0FBRyw0QkFBSCxFQUFrQyxFQUFsQyxDQUFzQyxPQUF0QyxFQUErQyxvQ0FBL0MsRUFBcUYsVUFBVSxDQUFWLEVBQWM7QUFDbEcsTUFBSSxhQUFhLEVBQUcsRUFBRSxjQUFMLENBQWpCO0FBQ0EsTUFBSSxZQUFZLFdBQVcsSUFBWCxDQUFpQiwyQkFBakIsQ0FBaEI7QUFDQSxNQUFLLFVBQVUsRUFBVixDQUFjLFNBQWQsQ0FBTCxFQUFpQztBQUNoQyxxQkFBbUIsVUFBbkI7QUFDQSxHQUZELE1BR0s7QUFDSjtBQUNBO0FBQ0QsRUFURDtBQVVBLENBbEhDLEdBQUYiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiBlKHQsbixyKXtmdW5jdGlvbiBzKG8sdSl7aWYoIW5bb10pe2lmKCF0W29dKXt2YXIgYT10eXBlb2YgcmVxdWlyZT09XCJmdW5jdGlvblwiJiZyZXF1aXJlO2lmKCF1JiZhKXJldHVybiBhKG8sITApO2lmKGkpcmV0dXJuIGkobywhMCk7dmFyIGY9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitvK1wiJ1wiKTt0aHJvdyBmLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsZn12YXIgbD1uW29dPXtleHBvcnRzOnt9fTt0W29dWzBdLmNhbGwobC5leHBvcnRzLGZ1bmN0aW9uKGUpe3ZhciBuPXRbb11bMV1bZV07cmV0dXJuIHMobj9uOmUpfSxsLGwuZXhwb3J0cyxlLHQsbixyKX1yZXR1cm4gbltvXS5leHBvcnRzfXZhciBpPXR5cGVvZiByZXF1aXJlPT1cImZ1bmN0aW9uXCImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pIiwiLyogZ2xvYmFsIGFqYXh1cmwgKi9cclxuLyogZ2xvYmFsIHdwc2VvQWRtaW5HbG9iYWxMMTBuLCB3cHNlb0NvbnNvbGVOb3RpZmljYXRpb25zICovXHJcbi8qIGpzaGludCAtVzA5NyAqL1xyXG4vKiBqc2hpbnQgdW51c2VkOmZhbHNlICovXHJcblxyXG4oIGZ1bmN0aW9uKCkge1xyXG5cdC8qKlxyXG5cdCAqIERpc3BsYXlzIGNvbnNvbGUgbm90aWZpY2F0aW9ucy5cclxuXHQgKlxyXG5cdCAqIExvb2tzIGF0IGEgZ2xvYmFsIHZhcmlhYmxlIHRvIGRpc3BsYXkgYWxsIG5vdGlmaWNhdGlvbnMgaW4gdGhlcmUuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBkaXNwbGF5Q29uc29sZU5vdGlmaWNhdGlvbnMoKSB7XHJcblx0XHRpZiAoIHR5cGVvZiB3aW5kb3cud3BzZW9Db25zb2xlTm90aWZpY2F0aW9ucyA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgY29uc29sZSA9PT0gXCJ1bmRlZmluZWRcIiApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cclxuXHRcdGZvciAoIHZhciBpbmRleCA9IDA7IGluZGV4IDwgd3BzZW9Db25zb2xlTm90aWZpY2F0aW9ucy5sZW5ndGg7IGluZGV4KysgKSB7XHJcblx0XHRcdGNvbnNvbGUud2Fybiggd3BzZW9Db25zb2xlTm90aWZpY2F0aW9uc1sgaW5kZXggXSApO1xyXG5cdFx0fVxyXG5cdFx0LyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXHR9XHJcblxyXG5cdGpRdWVyeSggZG9jdW1lbnQgKS5yZWFkeSggZGlzcGxheUNvbnNvbGVOb3RpZmljYXRpb25zICk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFVzZWQgdG8gZGlzbWlzcyB0aGUgdGFnbGluZSBub3RpY2UgZm9yIGEgc3BlY2lmaWMgdXNlci5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBub25jZVxyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3ZvaWR9XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gd3BzZW9EaXNtaXNzVGFnbGluZU5vdGljZSggbm9uY2UgKSB7XHJcblx0XHRqUXVlcnkucG9zdCggYWpheHVybCwge1xyXG5cdFx0XHRhY3Rpb246IFwid3BzZW9fZGlzbWlzc190YWdsaW5lX25vdGljZVwiLFxyXG5cdFx0XHRfd3Bub25jZTogbm9uY2UsXHJcblx0XHR9XHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogVXNlZCB0byByZW1vdmUgdGhlIGFkbWluIG5vdGljZXMgZm9yIHNldmVyYWwgcHVycG9zZXMsIGRpZXMgb24gZXhpdC5cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBvcHRpb25cclxuXHQgKiBAcGFyYW0ge3N0cmluZ30gaGlkZVxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBub25jZVxyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3ZvaWR9XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gd3BzZW9TZXRJZ25vcmUoIG9wdGlvbiwgaGlkZSwgbm9uY2UgKSB7XHJcblx0XHRqUXVlcnkucG9zdCggYWpheHVybCwge1xyXG5cdFx0XHRhY3Rpb246IFwid3BzZW9fc2V0X2lnbm9yZVwiLFxyXG5cdFx0XHRvcHRpb246IG9wdGlvbixcclxuXHRcdFx0X3dwbm9uY2U6IG5vbmNlLFxyXG5cdFx0fSwgZnVuY3Rpb24oIGRhdGEgKSB7XHJcblx0XHRcdGlmICggZGF0YSApIHtcclxuXHRcdFx0XHRqUXVlcnkoIFwiI1wiICsgaGlkZSApLmhpZGUoKTtcclxuXHRcdFx0XHRqUXVlcnkoIFwiI2hpZGRlbl9pZ25vcmVfXCIgKyBvcHRpb24gKS52YWwoIFwiaWdub3JlXCIgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0KTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEdlbmVyYXRlcyBhIGRpc21pc3NhYmxlIGFuY2hvciBidXR0b25cclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7c3RyaW5nfSBkaXNtaXNzX2xpbmsgVGhlIFVSTCB0aGF0IGxlYWRzIHRvIHRoZSBkaXNtaXNzaW5nIG9mIHRoZSBub3RpY2UuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7T2JqZWN0fSBBbmNob3IgdG8gZGlzbWlzcy5cclxuXHQgKi9cclxuXHRmdW5jdGlvbiB3cHNlb0Rpc21pc3NMaW5rKCBkaXNtaXNzX2xpbmsgKSB7XHJcblx0XHRyZXR1cm4galF1ZXJ5KFxyXG5cdFx0XHQnPGEgaHJlZj1cIicgKyBkaXNtaXNzX2xpbmsgKyAnXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwibm90aWNlLWRpc21pc3NcIj4nICtcclxuXHRcdFx0JzxzcGFuIGNsYXNzPVwic2NyZWVuLXJlYWRlci10ZXh0XCI+RGlzbWlzcyB0aGlzIG5vdGljZS48L3NwYW4+JyArXHJcblx0XHRcdFwiPC9hPlwiXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0alF1ZXJ5KCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcclxuXHRcdGpRdWVyeSggXCIueW9hc3QtZGlzbWlzc2libGVcIiApLm9uKCBcImNsaWNrXCIsIFwiLnlvYXN0LW5vdGljZS1kaXNtaXNzXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJHBhcmVudERpdiA9IGpRdWVyeSggdGhpcyApLnBhcmVudCgpO1xyXG5cclxuXHRcdFx0Ly8gRGVwcmVjYXRlZCwgdG9kbzogcmVtb3ZlIHdoZW4gYWxsIG5vdGlmaWVycyBoYXZlIGJlZW4gaW1wbGVtZW50ZWQuXHJcblx0XHRcdGpRdWVyeS5wb3N0KFxyXG5cdFx0XHRcdGFqYXh1cmwsXHJcblx0XHRcdFx0e1xyXG5cdFx0XHRcdFx0YWN0aW9uOiAkcGFyZW50RGl2LmF0dHIoIFwiaWRcIiApLnJlcGxhY2UoIC8tL2csIFwiX1wiICksXHJcblx0XHRcdFx0XHRfd3Bub25jZTogJHBhcmVudERpdi5kYXRhKCBcIm5vbmNlXCIgKSxcclxuXHRcdFx0XHRcdGRhdGE6ICRwYXJlbnREaXYuZGF0YSggXCJqc29uXCIgKSxcclxuXHRcdFx0XHR9XHJcblx0XHRcdCk7XHJcblxyXG5cdFx0XHRqUXVlcnkucG9zdChcclxuXHRcdFx0XHRhamF4dXJsLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFjdGlvbjogXCJ5b2FzdF9kaXNtaXNzX25vdGlmaWNhdGlvblwiLFxyXG5cdFx0XHRcdFx0bm90aWZpY2F0aW9uOiAkcGFyZW50RGl2LmF0dHIoIFwiaWRcIiApLFxyXG5cdFx0XHRcdFx0bm9uY2U6ICRwYXJlbnREaXYuZGF0YSggXCJub25jZVwiICksXHJcblx0XHRcdFx0XHRkYXRhOiAkcGFyZW50RGl2LmRhdGEoIFwianNvblwiICksXHJcblx0XHRcdFx0fVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdFx0JHBhcmVudERpdi5mYWRlVG8oIDEwMCwgMCwgZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0JHBhcmVudERpdi5zbGlkZVVwKCAxMDAsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdFx0JHBhcmVudERpdi5yZW1vdmUoKTtcclxuXHRcdFx0XHR9ICk7XHJcblx0XHRcdH0gKTtcclxuXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH0gKTtcclxuXHJcblx0XHRqUXVlcnkoIFwiLnlvYXN0LWhlbHAtYnV0dG9uXCIgKS5vbiggXCJjbGlja1wiLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0dmFyICRidXR0b24gPSBqUXVlcnkoIHRoaXMgKSxcclxuXHRcdFx0XHRoZWxwUGFuZWwgPSBqUXVlcnkoIFwiI1wiICsgJGJ1dHRvbi5hdHRyKCBcImFyaWEtY29udHJvbHNcIiApICksXHJcblx0XHRcdFx0aXNQYW5lbFZpc2libGUgPSBoZWxwUGFuZWwuaXMoIFwiOnZpc2libGVcIiApO1xyXG5cclxuXHRcdFx0alF1ZXJ5KCBoZWxwUGFuZWwgKS5zbGlkZVRvZ2dsZSggMjAwLCBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHQkYnV0dG9uLmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCAhIGlzUGFuZWxWaXNpYmxlICk7XHJcblx0XHRcdH0gKTtcclxuXHRcdH0gKTtcclxuXHR9ICk7XHJcblx0d2luZG93Lndwc2VvRGlzbWlzc1RhZ2xpbmVOb3RpY2UgPSB3cHNlb0Rpc21pc3NUYWdsaW5lTm90aWNlO1xyXG5cdHdpbmRvdy53cHNlb1NldElnbm9yZSA9IHdwc2VvU2V0SWdub3JlO1xyXG5cdHdpbmRvdy53cHNlb0Rpc21pc3NMaW5rID0gd3BzZW9EaXNtaXNzTGluaztcclxufSgpICk7XHJcblxyXG4oIGZ1bmN0aW9uKCkge1xyXG5cdFwidXNlIHN0cmljdFwiO1xyXG5cclxuXHR2YXIgJCA9IGpRdWVyeTtcclxuXHJcblx0LyoqXHJcblx0ICogSGlkZSBwb3B1cCBzaG93aW5nIG5ldyBhbGVydHMgYXJlIHByZXNlbnRcclxuXHQgKlxyXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGhpZGVBbGVydFBvcHVwKCkge1xyXG5cdFx0JCggXCIjd3AtYWRtaW4tYmFyLXJvb3QtZGVmYXVsdCA+IGxpXCIgKS5vZmYoIFwiaG92ZXJcIiwgaGlkZUFsZXJ0UG9wdXAgKTtcclxuXHRcdCQoIFwiLnlvYXN0LWlzc3VlLWFkZGVkXCIgKS5mYWRlT3V0KCAyMDAgKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIFNob3cgcG9wdXAgd2l0aCBuZXcgYWxlcnRzIG1lc3NhZ2VcclxuXHQgKlxyXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIHNob3dBbGVydFBvcHVwKCkge1xyXG5cdFx0JCggXCIueW9hc3QtaXNzdWUtYWRkZWRcIiApLmhvdmVyKCBoaWRlQWxlcnRQb3B1cCApLmZhZGVJbigpO1xyXG5cdFx0JCggXCIjd3AtYWRtaW4tYmFyLXJvb3QtZGVmYXVsdCA+IGxpXCIgKS5vbiggXCJob3ZlclwiLCBoaWRlQWxlcnRQb3B1cCApO1xyXG5cdFx0c2V0VGltZW91dCggaGlkZUFsZXJ0UG9wdXAsIDMwMDAgKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhhbmRsZSBkaXNtaXNzIGFuZCByZXN0b3JlIEFKQVggcmVzcG9uc2VzXHJcblx0ICpcclxuXHQgKiBAcGFyYW0ge09iamVjdH0gJHNvdXJjZSBPYmplY3QgdGhhdCB0cmlnZ2VyZWQgdGhlIHJlcXVlc3QuXHJcblx0ICogQHBhcmFtIHtPYmplY3R9IHJlc3BvbnNlIEFKQVggcmVzcG9uc2UuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBoYW5kbGVEaXNtaXNzUmVzdG9yZVJlc3BvbnNlKCAkc291cmNlLCByZXNwb25zZSApIHtcclxuXHRcdCQoIFwiLnlvYXN0LWFsZXJ0LWhvbGRlclwiICkub2ZmKCBcImNsaWNrXCIsIFwiLnJlc3RvcmVcIiApLm9mZiggXCJjbGlja1wiLCBcIi5kaXNtaXNzXCIgKTtcclxuXHJcblx0XHRpZiAoIHR5cGVvZiByZXNwb25zZS5odG1sID09PSBcInVuZGVmaW5lZFwiICkge1xyXG5cdFx0XHRyZXR1cm47XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCByZXNwb25zZS5odG1sICkge1xyXG5cdFx0XHQkc291cmNlLmNsb3Nlc3QoIFwiLnlvYXN0LWNvbnRhaW5lclwiICkuaHRtbCggcmVzcG9uc2UuaHRtbCApO1xyXG5cdFx0XHQvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXHJcblx0XHRcdC8qIGVzbGludC1kaXNhYmxlICovXHJcblx0XHRcdGhvb2tEaXNtaXNzUmVzdG9yZUJ1dHRvbnMoKTtcclxuXHRcdFx0LyoganNoaW50IGlnbm9yZTplbmQgKi9cclxuXHRcdFx0LyogZXNsaW50LWVuYWJsZSAqL1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciAkd3BzZW9fbWVudSA9ICQoIFwiI3dwLWFkbWluLWJhci13cHNlby1tZW51XCIgKTtcclxuXHRcdHZhciAkaXNzdWVfY291bnRlciA9ICR3cHNlb19tZW51LmZpbmQoIFwiLnlvYXN0LWlzc3VlLWNvdW50ZXJcIiApO1xyXG5cclxuXHRcdGlmICggISAkaXNzdWVfY291bnRlci5sZW5ndGggKSB7XHJcblx0XHRcdCR3cHNlb19tZW51LmZpbmQoIFwiPiBhOmZpcnN0LWNoaWxkXCIgKS5hcHBlbmQoICc8ZGl2IGNsYXNzPVwieW9hc3QtaXNzdWUtY291bnRlclwiLz4nICk7XHJcblx0XHRcdCRpc3N1ZV9jb3VudGVyID0gJHdwc2VvX21lbnUuZmluZCggXCIueW9hc3QtaXNzdWUtY291bnRlclwiICk7XHJcblx0XHR9XHJcblxyXG5cdFx0JGlzc3VlX2NvdW50ZXIuaHRtbCggcmVzcG9uc2UudG90YWwgKTtcclxuXHRcdGlmICggcmVzcG9uc2UudG90YWwgPT09IDAgKSB7XHJcblx0XHRcdCRpc3N1ZV9jb3VudGVyLmhpZGUoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdCRpc3N1ZV9jb3VudGVyLnNob3coKTtcclxuXHRcdH1cclxuXHJcblx0XHQkKCBcIiN0b3BsZXZlbF9wYWdlX3dwc2VvX2Rhc2hib2FyZCAudXBkYXRlLXBsdWdpbnNcIiApLnJlbW92ZUNsYXNzKCkuYWRkQ2xhc3MoIFwidXBkYXRlLXBsdWdpbnMgY291bnQtXCIgKyByZXNwb25zZS50b3RhbCApO1xyXG5cdFx0JCggXCIjdG9wbGV2ZWxfcGFnZV93cHNlb19kYXNoYm9hcmQgLnBsdWdpbi1jb3VudFwiICkuaHRtbCggcmVzcG9uc2UudG90YWwgKTtcclxuXHR9XHJcblxyXG5cdC8qKlxyXG5cdCAqIEhvb2sgdGhlIHJlc3RvcmUgYW5kIGRpc21pc3MgYnV0dG9uc1xyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3ZvaWR9XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gaG9va0Rpc21pc3NSZXN0b3JlQnV0dG9ucygpIHtcclxuXHRcdHZhciAkZGlzbWlzc2libGUgPSAkKCBcIi55b2FzdC1hbGVydC1ob2xkZXJcIiApO1xyXG5cclxuXHRcdCRkaXNtaXNzaWJsZS5vbiggXCJjbGlja1wiLCBcIi5kaXNtaXNzXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICk7XHJcblx0XHRcdHZhciAkc291cmNlID0gJHRoaXMuY2xvc2VzdCggXCIueW9hc3QtYWxlcnQtaG9sZGVyXCIgKTtcclxuXHJcblx0XHRcdHZhciAkY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCggXCIueW9hc3QtY29udGFpbmVyXCIgKTtcclxuXHRcdFx0JGNvbnRhaW5lci5hcHBlbmQoICc8ZGl2IGNsYXNzPVwieW9hc3QtY29udGFpbmVyLWRpc2FibGVkXCIvPicgKTtcclxuXHJcblx0XHRcdCR0aGlzLmZpbmQoIFwic3BhblwiICkucmVtb3ZlQ2xhc3MoIFwiZGFzaGljb25zLW5vLWFsdFwiICkuYWRkQ2xhc3MoIFwiZGFzaGljb25zLXJhbmRvbWl6ZVwiICk7XHJcblxyXG5cdFx0XHQkLnBvc3QoXHJcblx0XHRcdFx0YWpheHVybCxcclxuXHRcdFx0XHR7XHJcblx0XHRcdFx0XHRhY3Rpb246IFwieW9hc3RfZGlzbWlzc19hbGVydFwiLFxyXG5cdFx0XHRcdFx0bm90aWZpY2F0aW9uOiAkc291cmNlLmF0dHIoIFwiaWRcIiApLFxyXG5cdFx0XHRcdFx0bm9uY2U6ICRzb3VyY2UuZGF0YSggXCJub25jZVwiICksXHJcblx0XHRcdFx0XHRkYXRhOiAkc291cmNlLmRhdGEoIFwianNvblwiICksXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRoYW5kbGVEaXNtaXNzUmVzdG9yZVJlc3BvbnNlLmJpbmQoIHRoaXMsICRzb3VyY2UgKSxcclxuXHRcdFx0XHRcImpzb25cIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSApO1xyXG5cclxuXHRcdCRkaXNtaXNzaWJsZS5vbiggXCJjbGlja1wiLCBcIi5yZXN0b3JlXCIsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHR2YXIgJHRoaXMgPSAkKCB0aGlzICk7XHJcblx0XHRcdHZhciAkc291cmNlID0gJHRoaXMuY2xvc2VzdCggXCIueW9hc3QtYWxlcnQtaG9sZGVyXCIgKTtcclxuXHJcblx0XHRcdHZhciAkY29udGFpbmVyID0gJHRoaXMuY2xvc2VzdCggXCIueW9hc3QtY29udGFpbmVyXCIgKTtcclxuXHRcdFx0JGNvbnRhaW5lci5hcHBlbmQoICc8ZGl2IGNsYXNzPVwieW9hc3QtY29udGFpbmVyLWRpc2FibGVkXCIvPicgKTtcclxuXHJcblx0XHRcdCR0aGlzLmZpbmQoIFwic3BhblwiICkucmVtb3ZlQ2xhc3MoIFwiZGFzaGljb25zLWFycm93LXVwXCIgKS5hZGRDbGFzcyggXCJkYXNoaWNvbnMtcmFuZG9taXplXCIgKTtcclxuXHJcblx0XHRcdCQucG9zdChcclxuXHRcdFx0XHRhamF4dXJsLFxyXG5cdFx0XHRcdHtcclxuXHRcdFx0XHRcdGFjdGlvbjogXCJ5b2FzdF9yZXN0b3JlX2FsZXJ0XCIsXHJcblx0XHRcdFx0XHRub3RpZmljYXRpb246ICRzb3VyY2UuYXR0ciggXCJpZFwiICksXHJcblx0XHRcdFx0XHRub25jZTogJHNvdXJjZS5kYXRhKCBcIm5vbmNlXCIgKSxcclxuXHRcdFx0XHRcdGRhdGE6ICRzb3VyY2UuZGF0YSggXCJqc29uXCIgKSxcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdGhhbmRsZURpc21pc3NSZXN0b3JlUmVzcG9uc2UuYmluZCggdGhpcywgJHNvdXJjZSApLFxyXG5cdFx0XHRcdFwianNvblwiXHJcblx0XHRcdCk7XHJcblx0XHR9ICk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTZXRzIHRoZSBjb2xvciBvZiB0aGUgc3ZnIGZvciB0aGUgcHJlbWl1bSBpbmRpY2F0b3IgYmFzZWQgb24gdGhlIGNvbG9yIG9mIHRoZSBjb2xvciBzY2hlbWUuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBzZXRQcmVtaXVtSW5kaWNhdG9yQ29sb3IoKSB7XHJcblx0XHRsZXQgJHByZW1pdW1JbmRpY2F0b3IgPSBqUXVlcnkoIFwiLndwc2VvLWpzLXByZW1pdW0taW5kaWNhdG9yXCIgKTtcclxuXHRcdGxldCAkc3ZnID0gJHByZW1pdW1JbmRpY2F0b3IuZmluZCggXCJzdmdcIiApO1xyXG5cclxuXHRcdC8vIERvbid0IGNoYW5nZSB0aGUgY29sb3IgdG8gc3RhbmQgb3V0IHdoZW4gcHJlbWl1bSBpcyBhY3R1YWxseSBlbmFibGVkLlxyXG5cdFx0aWYgKCAkcHJlbWl1bUluZGljYXRvci5oYXNDbGFzcyggXCJ3cHNlby1wcmVtaXVtLWluZGljYXRvci0tbm9cIiApICkge1xyXG5cdFx0XHRsZXQgJHN2Z1BhdGggPSAkc3ZnLmZpbmQoIFwicGF0aFwiICk7XHJcblxyXG5cdFx0XHRsZXQgYmFja2dyb3VuZENvbG9yID0gJHByZW1pdW1JbmRpY2F0b3IuY3NzKCBcImJhY2tncm91bmRDb2xvclwiICk7XHJcblxyXG5cdFx0XHQkc3ZnUGF0aC5jc3MoIFwiZmlsbFwiLCBiYWNrZ3JvdW5kQ29sb3IgKTtcclxuXHRcdH1cclxuXHJcblx0XHQkc3ZnLmNzcyggXCJkaXNwbGF5XCIsIFwiYmxvY2tcIiApO1xyXG5cdFx0JHByZW1pdW1JbmRpY2F0b3IuY3NzKCB7XHJcblx0XHRcdGJhY2tncm91bmRDb2xvcjogXCJ0cmFuc3BhcmVudFwiLFxyXG5cdFx0XHR3aWR0aDogXCIyMHB4XCIsXHJcblx0XHRcdGhlaWdodDogXCIyMHB4XCIsXHJcblx0XHR9ICk7XHJcblx0fVxyXG5cclxuXHQkKCBkb2N1bWVudCApLnJlYWR5KCBmdW5jdGlvbigpIHtcclxuXHRcdHNob3dBbGVydFBvcHVwKCk7XHJcblx0XHRob29rRGlzbWlzc1Jlc3RvcmVCdXR0b25zKCk7XHJcblx0XHRzZXRQcmVtaXVtSW5kaWNhdG9yQ29sb3IoKTtcclxuXHR9ICk7XHJcbn0oKSApO1xyXG5cclxuKCBmdW5jdGlvbigpIHtcclxuXHRcInVzZSBzdHJpY3RcIjtcclxuXHJcblx0dmFyICQgPSBqUXVlcnk7XHJcblxyXG5cdC8qKlxyXG5cdCAqIFN0YXJ0IHZpZGVvIGlmIGZvdW5kIG9uIHRoZSB0YWJcclxuXHQgKlxyXG5cdCAqIEBwYXJhbSB7b2JqZWN0fSAkdGFiIFRhYiB0aGF0IGlzIGFjdGl2YXRlZC5cclxuXHQgKlxyXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxyXG5cdCAqL1xyXG5cdGZ1bmN0aW9uIGFjdGl2YXRlVmlkZW8oICR0YWIgKSB7XHJcblx0XHR2YXIgJGRhdGEgPSAkdGFiLmZpbmQoIFwiLndwc2VvLXRhYi12aWRlb19fZGF0YVwiICk7XHJcblx0XHRpZiAoICRkYXRhLmxlbmd0aCA9PT0gMCApIHtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdCRkYXRhLmFwcGVuZCggJzxpZnJhbWUgd2lkdGg9XCI1NjBcIiBoZWlnaHQ9XCIzMTVcIiBzcmM9XCInICsgJGRhdGEuZGF0YSggXCJ1cmxcIiApICsgJ1wiIHRpdGxlPVwiJyArIHdwc2VvQWRtaW5HbG9iYWxMMTBuLmhlbHBfdmlkZW9faWZyYW1lX3RpdGxlICsgJ1wiIGZyYW1lYm9yZGVyPVwiMFwiIGFsbG93ZnVsbHNjcmVlbj48L2lmcmFtZT4nICk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBTdG9wIHBsYXlpbmcgYW55IHZpZGVvLlxyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3ZvaWR9XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gc3RvcFZpZGVvcygpIHtcclxuXHRcdCQoIFwiI3dwYm9keS1jb250ZW50XCIgKS5maW5kKCBcIi53cHNlby10YWItdmlkZW9fX2RhdGFcIiApLmNoaWxkcmVuKCkucmVtb3ZlKCk7XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBPcGVuIHRhYlxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICRjb250YWluZXIgQ29udGFpbmVyIHRoYXQgY29udGFpbnMgdGhlIHRhYi5cclxuXHQgKiBAcGFyYW0ge29iamVjdH0gJHRhYiBUYWIgdGhhdCBpcyBhY3RpdmF0ZWQuXHJcblx0ICpcclxuXHQgKiBAcmV0dXJucyB7dm9pZH1cclxuXHQgKi9cclxuXHRmdW5jdGlvbiBvcGVuSGVscENlbnRlclRhYiggJGNvbnRhaW5lciwgJHRhYiApIHtcclxuXHRcdCRjb250YWluZXIuZmluZCggXCIuY29udGV4dHVhbC1oZWxwLXRhYnMtd3JhcCBkaXZcIiApLnJlbW92ZUNsYXNzKCBcImFjdGl2ZVwiICk7XHJcblx0XHQkdGFiLmFkZENsYXNzKCBcImFjdGl2ZVwiICk7XHJcblxyXG5cdFx0c3RvcFZpZGVvcygpO1xyXG5cdFx0YWN0aXZhdGVWaWRlbyggJHRhYiApO1xyXG5cdH1cclxuXHJcblx0LyoqXHJcblx0ICogT3BlbiBWaWRlbyBTbGlkZW91dFxyXG5cdCAqXHJcblx0ICogQHBhcmFtIHtvYmplY3R9ICRjb250YWluZXIgVGFiIHRvIG9wZW4gdmlkZW8gc2xpZGVyIG9mLlxyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3ZvaWR9XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gb3BlblZpZGVvU2xpZGVvdXQoICRjb250YWluZXIgKSB7XHJcblx0XHQkY29udGFpbmVyLmZpbmQoIFwiLnRvZ2dsZV9fYXJyb3dcIiApLnJlbW92ZUNsYXNzKCBcImRhc2hpY29ucy1hcnJvdy1kb3duXCIgKS5hZGRDbGFzcyggXCJkYXNoaWNvbnMtYXJyb3ctdXBcIiApO1xyXG5cdFx0JGNvbnRhaW5lci5maW5kKCBcIi53cHNlby10YWItdmlkZW8tY29udGFpbmVyX19oYW5kbGVcIiApLmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIiApO1xyXG5cdFx0JGNvbnRhaW5lci5maW5kKCBcIi53cHNlby10YWItdmlkZW8tc2xpZGVvdXRcIiApLmNzcyggXCJkaXNwbGF5XCIsIFwiZmxleFwiICk7XHJcblxyXG5cdFx0dmFyICRhY3RpdmVUYWJMaW5rID0gJGNvbnRhaW5lci5maW5kKCBcIi53cHNlby1oZWxwLWNlbnRlci1pdGVtLmFjdGl2ZSA+IGFcIiApO1xyXG5cclxuXHRcdCQoIFwiI3dwY29udGVudFwiICkuYWRkQ2xhc3MoIFwieW9hc3QtaGVscC1jZW50ZXItb3BlblwiICk7XHJcblxyXG5cdFx0aWYgKCAkYWN0aXZlVGFiTGluay5sZW5ndGggPiAwICkge1xyXG5cdFx0XHR2YXIgYWN0aXZlVGFiID0gJGFjdGl2ZVRhYkxpbmsuYXR0ciggXCJhcmlhLWNvbnRyb2xzXCIgKTtcclxuXHRcdFx0YWN0aXZhdGVWaWRlbyggJCggXCIjXCIgKyBhY3RpdmVUYWIgKSApO1xyXG5cclxuXHRcdFx0JGNvbnRhaW5lci5vbiggXCJjbGlja1wiLCBcIi53cHNlby1oZWxwLWNlbnRlci1pdGVtID4gYVwiLCBmdW5jdGlvbiggZSApIHtcclxuXHRcdFx0XHR2YXIgJGxpbmsgPSAkKCB0aGlzICk7XHJcblx0XHRcdFx0dmFyIHRhcmdldCA9ICRsaW5rLmF0dHIoIFwiYXJpYS1jb250cm9sc1wiICk7XHJcblxyXG5cdFx0XHRcdCRjb250YWluZXIuZmluZCggXCIud3BzZW8taGVscC1jZW50ZXItaXRlbVwiICkucmVtb3ZlQ2xhc3MoIFwiYWN0aXZlXCIgKTtcclxuXHRcdFx0XHQkbGluay5wYXJlbnQoKS5hZGRDbGFzcyggXCJhY3RpdmVcIiApO1xyXG5cclxuXHRcdFx0XHRvcGVuSGVscENlbnRlclRhYiggJGNvbnRhaW5lciwgJCggXCIjXCIgKyB0YXJnZXQgKSApO1xyXG5cclxuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdH0gKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRhY3RpdmF0ZVZpZGVvKCAkY29udGFpbmVyICk7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHQvKipcclxuXHQgKiBDbG9zZSBWaWRlbyBTbGlkZW91dFxyXG5cdCAqXHJcblx0ICogQHJldHVybnMge3ZvaWR9XHJcblx0ICovXHJcblx0ZnVuY3Rpb24gY2xvc2VWaWRlb1NsaWRlb3V0KCkge1xyXG5cdFx0dmFyICRjb250YWluZXIgPSAkKCBcIiN3cGJvZHktY29udGVudFwiICkuZmluZCggXCIud3BzZW8tdGFiLXZpZGVvLWNvbnRhaW5lclwiICk7XHJcblx0XHQkY29udGFpbmVyLmZpbmQoIFwiLndwc2VvLXRhYi12aWRlby1zbGlkZW91dFwiICkuY3NzKCBcImRpc3BsYXlcIiwgXCJcIiApO1xyXG5cclxuXHRcdHN0b3BWaWRlb3MoKTtcclxuXHJcblx0XHQkY29udGFpbmVyLmZpbmQoIFwiLnRvZ2dsZV9fYXJyb3dcIiApLnJlbW92ZUNsYXNzKCBcImRhc2hpY29ucy1hcnJvdy11cFwiICkuYWRkQ2xhc3MoIFwiZGFzaGljb25zLWFycm93LWRvd25cIiApO1xyXG5cdFx0JGNvbnRhaW5lci5maW5kKCBcIi53cHNlby10YWItdmlkZW8tY29udGFpbmVyX19oYW5kbGVcIiApLmF0dHIoIFwiYXJpYS1leHBhbmRlZFwiLCBcImZhbHNlXCIgKTtcclxuXHJcblx0XHQkKCBcIiN3cGNvbnRlbnRcIiApLnJlbW92ZUNsYXNzKCBcInlvYXN0LWhlbHAtY2VudGVyLW9wZW5cIiApO1xyXG5cdH1cclxuXHJcblx0JCggXCIubmF2LXRhYlwiICkuY2xpY2soIGZ1bmN0aW9uKCkge1xyXG5cdFx0Y2xvc2VWaWRlb1NsaWRlb3V0KCk7XHJcblx0fSApO1xyXG5cclxuXHQkKCBcIi53cHNlby10YWItdmlkZW8tY29udGFpbmVyXCIgKS5vbiggXCJjbGlja1wiLCBcIi53cHNlby10YWItdmlkZW8tY29udGFpbmVyX19oYW5kbGVcIiwgZnVuY3Rpb24oIGUgKSB7XHJcblx0XHR2YXIgJGNvbnRhaW5lciA9ICQoIGUuZGVsZWdhdGVUYXJnZXQgKTtcclxuXHRcdHZhciAkc2xpZGVvdXQgPSAkY29udGFpbmVyLmZpbmQoIFwiLndwc2VvLXRhYi12aWRlby1zbGlkZW91dFwiICk7XHJcblx0XHRpZiAoICRzbGlkZW91dC5pcyggXCI6aGlkZGVuXCIgKSApIHtcclxuXHRcdFx0b3BlblZpZGVvU2xpZGVvdXQoICRjb250YWluZXIgKTtcclxuXHRcdH1cclxuXHRcdGVsc2Uge1xyXG5cdFx0XHRjbG9zZVZpZGVvU2xpZGVvdXQoKTtcclxuXHRcdH1cclxuXHR9ICk7XHJcbn0oKSApO1xyXG4iXX0=
