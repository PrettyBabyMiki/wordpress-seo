yoastWebpackJsonp([10],{10:function(e,t){function s(e){return null!=e&&"object"==typeof e}e.exports=s},102:function(e,t,s){function n(e){var t=i.call(e,u),s=e[u];try{e[u]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[u]=s:delete e[u]),o}var o=s(13),r=Object.prototype,i=r.hasOwnProperty,a=r.toString,u=o?o.toStringTag:void 0;e.exports=n},103:function(e,t){function s(e){return o.call(e)}var n=Object.prototype,o=n.toString;e.exports=s},114:function(e,t,s){"use strict";var n=s(248),o=s(264),r=s(115);e.exports=function(){function e(e,t,s,n,i,a){a!==r&&o(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return s.checkPropTypes=n,s.PropTypes=s,s}},115:function(e,t,s){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},12:function(e,t,s){function n(e){return null==e?void 0===e?u:a:l&&l in Object(e)?r(e):i(e)}var o=s(13),r=s(102),i=s(103),a="[object Null]",u="[object Undefined]",l=o?o.toStringTag:void 0;e.exports=n},13:function(e,t,s){var n=s(6),o=n.Symbol;e.exports=o},1431:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=s(1432),r=n(o),i=s(1436),a=n(i);(0,r.default)(),(0,a.default)()},1432:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=s(8),o=s(1433),r=function(e){return e&&e.__esModule?e:{default:e}}(o),i=window.wp.blocks.registerBlockType,a={title:{type:"array",source:"children",selector:".schema-how-to-title"},jsonTitle:{type:"string"},hasDuration:{type:"boolean"},days:{type:"number"},hours:{type:"number"},minutes:{type:"number"},description:{type:"array",source:"children",selector:".schema-how-to-description"},jsonDescription:{type:"string"},steps:{type:"array"},additionalListCssClasses:{type:"string"},unorderedList:{type:"boolean"},headingID:{type:"string"}};t.default=function(){i("yoast/how-to-block",{title:(0,n.__)("How-to","wordpress-seo"),description:(0,n.__)("Create a How-to guide in an SEO-friendly way. You can only use one How-to block per post.","wordpress-seo"),icon:"editor-ol",category:"yoast-structured-data-blocks",keywords:[(0,n.__)("How-to","wordpress-seo"),(0,n.__)("How to","wordpress-seo")],supports:{multiple:!1},attributes:a,edit:function(e){var t=e.attributes,s=e.setAttributes,n=e.className;return t.steps&&0!==t.steps.length||(t.steps=[{id:r.default.generateId("how-to-step"),name:[],text:[]}]),yoast._wp.element.createElement(r.default,{attributes:t,setAttributes:s,className:n})},save:function(e){var t=e.attributes;return yoast._wp.element.createElement(r.default.Content,t)}})}},1433:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n])}return e},u=function(){function e(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return s}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),c=s(2),p=n(c),d=s(1434),f=n(d),m=s(15),h=n(m),y=s(5),w=n(y),_=s(8),v=s(84),b=n(v),g=s(346),E=s(1435),q=n(E),k=window.wp.editor,S=k.RichText,R=k.InspectorControls,C=window.wp.components,N=C.IconButton,j=C.PanelBody,O=C.TextControl,T=C.ToggleControl,x=window.wp.element,F=x.Component,M=x.renderToString,A=(0,w.default)(O).withConfig({displayName:"HowTo__SpacedTextControl"})(["&&&{margin-bottom:32px;}"]),L=function(e){function t(e){o(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.state={focus:""},s.changeStep=s.changeStep.bind(s),s.insertStep=s.insertStep.bind(s),s.removeStep=s.removeStep.bind(s),s.swapSteps=s.swapSteps.bind(s),s.setFocus=s.setFocus.bind(s),s.addCSSClasses=s.addCSSClasses.bind(s),s.getListTypeHelp=s.getListTypeHelp.bind(s),s.toggleListType=s.toggleListType.bind(s),s.updateHeadingID=s.updateHeadingID.bind(s),s.editorRefs={},s}return i(t,e),l(t,[{key:"changeStep",value:function(e,t,s,n,o){var r=this.props.attributes.steps?this.props.attributes.steps.slice():[];if(!(o>=r.length)&&r[o].name===s&&r[o].text===n){r[o]={id:r[o].id,name:e,text:t,jsonName:(0,g.stripHTML)(M(e)),jsonText:(0,g.stripHTML)(M(t))};var i=f.default.getImageSrc(t);i&&(r[o].jsonImageSrc=i),this.props.setAttributes({steps:r})}}},{key:"insertStep",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.props.attributes.steps?this.props.attributes.steps.slice():[];(0,h.default)(e)&&(e=r.length-1);for(var i=r.length-1;i>e;)this.editorRefs[i+1+":name"]=this.editorRefs[i+":name"],this.editorRefs[i+1+":text"]=this.editorRefs[i+":text"],i--;r.splice(e+1,0,{id:t.generateId("how-to-step"),name:s,text:n,jsonName:"",jsonText:""}),this.props.setAttributes({steps:r}),o&&setTimeout(this.setFocus.bind(this,e+1+":name"))}},{key:"swapSteps",value:function(e,t){var s=this.props.attributes.steps?this.props.attributes.steps.slice():[],n=s[e];s[e]=s[t],s[t]=n;var o=this.editorRefs[e+":name"];this.editorRefs[e+":name"]=this.editorRefs[t+":name"],this.editorRefs[t+":name"]=o;var r=this.editorRefs[e+":text"];this.editorRefs[e+":text"]=this.editorRefs[t+":text"],this.editorRefs[t+":text"]=r,this.props.setAttributes({steps:s});var i=this.state.focus.split(":"),a=u(i,2),l=a[0],c=a[1];l===""+e&&this.setFocus(t+":"+c),l===""+t&&this.setFocus(e+":"+c)}},{key:"removeStep",value:function(e){var t=this.props.attributes.steps?this.props.attributes.steps.slice():[];t.splice(e,1),this.props.setAttributes({steps:t}),delete this.editorRefs[e+":name"],delete this.editorRefs[e+":text"];for(var s=e+1;this.editorRefs[s+":name"]||this.editorRefs[s+":text"];)this.editorRefs[s-1+":name"]=this.editorRefs[s+":name"],this.editorRefs[s-1+":text"]=this.editorRefs[s+":text"],s++;var n=t.length;delete this.editorRefs[n+":name"],delete this.editorRefs[n+":text"];var o="description";this.editorRefs[e+":name"]?o=e+":name":this.editorRefs[e-1+":text"]&&(o=e-1+":text"),this.setFocus(o)}},{key:"setFocus",value:function(e){e!==this.state.focus&&(this.setState({focus:e}),this.editorRefs[e]&&this.editorRefs[e].focus())}},{key:"getSteps",value:function(){var e=this;if(!this.props.attributes.steps)return null;var t=this.state.focus.split(":"),s=u(t,2),n=s[0],o=s[1];return this.props.attributes.steps.map(function(t,s){return yoast._wp.element.createElement(f.default,{key:t.id,step:t,index:s,editorRef:function(t,n){e.editorRefs[s+":"+t]=n},onChange:function(t,n,o,r){return e.changeStep(t,n,o,r,s)},insertStep:function(){return e.insertStep(s)},removeStep:function(){return e.removeStep(s)},onFocus:function(t){return e.setFocus(s+":"+t)},subElement:o,onMoveUp:function(){return e.swapSteps(s,s-1)},onMoveDown:function(){return e.swapSteps(s,s+1)},isFirst:0===s,isLast:s===e.props.attributes.steps.length-1,isSelected:n===""+s,isUnorderedList:e.props.attributes.unorderedList})})}},{key:"formatDuration",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(""===e)return"";var s=e.replace(/^[0]+/,"");return""===s?0:null!==t?Math.min(Math.max(0,parseInt(s,10)),t):Math.max(0,parseInt(s,10))}},{key:"getDuration",value:function(){var e=this,t=this.props,s=t.attributes,n=t.setAttributes;return s.hasDuration?yoast._wp.element.createElement("fieldset",{className:"schema-how-to-duration"},yoast._wp.element.createElement("legend",{className:"schema-how-to-duration-legend"},(0,_.__)("Time needed:","wordpress-seo")),yoast._wp.element.createElement("label",{htmlFor:"schema-how-to-duration-days",className:"screen-reader-text"},(0,_.__)("days","wordpress-seo")),yoast._wp.element.createElement("input",{id:"schema-how-to-duration-days",className:"schema-how-to-duration-input",type:"number",value:s.days,onFocus:function(){return e.setFocus("days")},onChange:function(t){var s=e.formatDuration(t.target.value);n({days:(0,b.default)(s)})},placeholder:"DD"}),yoast._wp.element.createElement("label",{htmlFor:"schema-how-to-duration-hours",className:"screen-reader-text"},(0,_.__)("hours","wordpress-seo")),yoast._wp.element.createElement("input",{id:"schema-how-to-duration-hours",className:"schema-how-to-duration-input",type:"number",value:s.hours,onFocus:function(){return e.setFocus("hours")},placeholder:"HH",onChange:function(t){var s=e.formatDuration(t.target.value,23);n({hours:(0,b.default)(s)})}}),yoast._wp.element.createElement("span",{"aria-hidden":"true"},":"),yoast._wp.element.createElement("label",{htmlFor:"schema-how-to-duration-minutes",className:"screen-reader-text"},(0,_.__)("minutes","wordpress-seo")),yoast._wp.element.createElement("input",{id:"schema-how-to-duration-minutes",className:"schema-how-to-duration-input",type:"number",value:s.minutes,onFocus:function(){return e.setFocus("minutes")},onChange:function(t){var s=e.formatDuration(t.target.value,59);n({minutes:(0,b.default)(s)})},placeholder:"MM"}),yoast._wp.element.createElement(N,{className:"schema-how-to-duration-button editor-inserter__toggle",icon:"trash",label:(0,_.__)("Delete total time","wordpress-seo"),onClick:function(){return n({hasDuration:!1})}})):yoast._wp.element.createElement(N,{icon:"insert",onClick:function(){return n({hasDuration:!0})},className:"schema-how-to-duration-button editor-inserter__toggle"},(0,_.__)("Add total time","wordpress-seo"))}},{key:"getAddStepButton",value:function(){var e=this;return yoast._wp.element.createElement(N,{icon:"insert",onClick:function(){return e.insertStep()},className:"editor-inserter__toggle"},(0,_.__)("Add step","wordpress-seo"))}},{key:"addCSSClasses",value:function(e){this.props.setAttributes({additionalListCssClasses:e})}},{key:"toggleListType",value:function(e){this.props.setAttributes({unorderedList:e})}},{key:"updateHeadingID",value:function(e){this.props.setAttributes({headingID:e})}},{key:"getListTypeHelp",value:function(e){return e?(0,_.__)("Showing step items as an unordered list","wordpress-seo"):(0,_.__)("Showing step items as an ordered list.","wordpress-seo")}},{key:"getSidebar",value:function(e,t,s){return yoast._wp.element.createElement(R,null,yoast._wp.element.createElement(j,{title:(0,_.__)("Settings","wordpress-seo"),className:"blocks-font-size"},yoast._wp.element.createElement(A,{label:(0,_.__)("HTML ID to apply to the title","wordpress-seo"),value:s,onChange:this.updateHeadingID,help:(0,_.__)("Optional. This can give you better control over the styling of the heading.","wordpress-seo")}),yoast._wp.element.createElement(A,{label:(0,_.__)("CSS class(es) to apply to the steps","wordpress-seo"),value:t,onChange:this.addCSSClasses,help:(0,_.__)("Optional. This can give you better control over the styling of the steps.","wordpress-seo")}),yoast._wp.element.createElement(T,{label:(0,_.__)("Unordered list","wordpress-seo"),checked:e,onChange:this.toggleListType,help:this.getListTypeHelp})))}},{key:"render",value:function(){var e=this,t=this.props,s=t.attributes,n=t.setAttributes,o=t.className,r=["schema-how-to",o].filter(function(e){return e}).join(" "),i=["schema-how-to-steps",s.additionalListCssClasses].filter(function(e){return e}).join(" ");return yoast._wp.element.createElement("div",{className:r},yoast._wp.element.createElement(S,{tagName:"strong",id:s.headingID,className:"schema-how-to-title",value:s.title,isSelected:"title"===this.state.focus,setFocusedElement:function(){return e.setFocus("title")},onChange:function(e){return n({title:e,jsonTitle:(0,g.stripHTML)(M(e))})},onSetup:function(t){e.editorRefs.title=t},placeholder:(0,_.__)("Enter a title for your instructions","wordpress-seo"),keepPlaceholderOnFocus:!0}),this.getDuration(),yoast._wp.element.createElement(S,{tagName:"p",className:"schema-how-to-description",value:s.description,isSelected:"description"===this.state.focus,setFocusedElement:function(){return e.setFocus("description")},onChange:function(e){return n({description:e,jsonDescription:(0,g.stripHTML)(M(e))})},onSetup:function(t){e.editorRefs.description=t},placeholder:(0,_.__)("Enter a description","wordpress-seo"),keepPlaceholderOnFocus:!0}),yoast._wp.element.createElement("ul",{className:i},this.getSteps()),yoast._wp.element.createElement("div",{className:"schema-how-to-buttons"},this.getAddStepButton()),this.getSidebar(s.unorderedList,s.additionalListCssClasses,s.headingID))}}],[{key:"generateId",value:function(e){return e+"-"+(new Date).getTime()}},{key:"Content",value:function(e){var t=e.steps,s=e.title,n=e.hasDuration,o=e.days,r=e.hours,i=e.minutes,u=e.description,l=e.unorderedList,c=e.additionalListCssClasses,p=e.className,d=e.headingID;t=t?t.map(function(e){return yoast._wp.element.createElement(f.default.Content,a({},e,{key:e.id}))}):null;var m=["schema-how-to",p].filter(function(e){return e}).join(" "),h=["schema-how-to-steps",c].filter(function(e){return e}).join(" "),y=d||(0,g.stripHTML)(M(s)).toLowerCase(),w=(0,q.default)({days:o,hours:r,minutes:i});return yoast._wp.element.createElement("div",{className:m},yoast._wp.element.createElement(S.Content,{tagName:"strong",className:"schema-how-to-title",value:s,id:y.replace(/\s+/g,"-")}),n&&"string"==typeof w&&w.length>0&&yoast._wp.element.createElement("p",{className:"schema-how-to-total-time"},(0,_.__)("Time needed:","wordpress-seo")," ",w,"."),yoast._wp.element.createElement(S.Content,{tagName:"p",className:"schema-how-to-description",value:u}),l?yoast._wp.element.createElement("ul",{className:h},t):yoast._wp.element.createElement("ol",{className:h},t))}}]),t}(F);t.default=L,L.propTypes={attributes:p.default.object.isRequired,setAttributes:p.default.func.isRequired,className:p.default.string}},1434:function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),a=s(2),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=s(8),c=window.wp.element.Component,p=window.wp.components.IconButton,d=window.wp.editor,f=d.RichText,m=d.MediaUpload,h=function(e){function t(e){n(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.onSelectImage=s.onSelectImage.bind(s),s}return r(t,e),i(t,[{key:"getButtons",value:function(){var e=this.props,s=e.step,n=e.removeStep,o=e.insertStep;return yoast._wp.element.createElement("div",{className:"schema-how-to-step-button-container"},!t.getImageSrc(s.text)&&yoast._wp.element.createElement(m,{onSelect:this.onSelectImage,type:"image",value:s.id,render:function(e){var t=e.open;return yoast._wp.element.createElement(p,{className:"schema-how-to-step-button editor-inserter__toggle how-to-step-add-media",icon:"insert",onClick:t},(0,l.__)("Add image","wordpress-seo"))}}),yoast._wp.element.createElement(p,{className:"schema-how-to-step-button editor-inserter__toggle",icon:"trash",label:(0,l.__)("Delete step","wordpress-seo"),onClick:n}),yoast._wp.element.createElement(p,{className:"schema-how-to-step-button editor-inserter__toggle",icon:"insert",label:(0,l.__)("Insert step","wordpress-seo"),onClick:o}))}},{key:"getMover",value:function(){return yoast._wp.element.createElement("div",{className:"schema-how-to-step-mover"},!this.props.isFirst&&yoast._wp.element.createElement(p,{className:"editor-block-mover__control",onClick:this.props.onMoveUp,icon:"arrow-up-alt2",label:(0,l.__)("Move step up","wordpress-seo")}),!this.props.isLast&&yoast._wp.element.createElement(p,{className:"editor-block-mover__control",onClick:this.props.isLast?null:this.props.onMoveDown,icon:"arrow-down-alt2",label:(0,l.__)("Move step down","wordpress-seo")}))}},{key:"onSelectImage",value:function(e){var t=this.props.step,s=t.name,n=t.text,o=n.slice(),r=yoast._wp.element.createElement("img",{key:e.id,alt:e.alt,src:e.url});o.push?o.push(r):o=[o,r],this.props.onChange(s,o,s,n)}},{key:"render",value:function(){var e=this.props,t=e.index,s=e.step,n=e.onChange,o=e.onFocus,r=e.isSelected,i=e.subElement,a=e.editorRef,u=e.isUnorderedList,c=s.id,p=s.name,d=s.text;return yoast._wp.element.createElement("li",{className:"schema-how-to-step",key:c},yoast._wp.element.createElement("span",{className:"schema-how-to-step-number"},u?"•":t+1+"."),yoast._wp.element.createElement(f,{className:"schema-how-to-step-name",tagName:"strong",onSetup:function(e){return a("name",e)},key:c+"-name",value:p,onChange:function(e){return n(e,d,p,d)},isSelected:r&&"name"===i,placeholder:(0,l.__)("Enter a step title","wordpress-seo"),setFocusedElement:function(){return o("name")},keepPlaceholderOnFocus:!0}),yoast._wp.element.createElement(f,{className:"schema-how-to-step-text",tagName:"p",onSetup:function(e){return a("text",e)},key:c+"-text",value:d,onChange:function(e){return n(p,e,p,d)},isSelected:r&&"text"===i,placeholder:(0,l.__)("Enter a step description","wordpress-seo"),setFocusedElement:function(){return o("text")},keepPlaceholderOnFocus:!0}),r&&this.getMover(),r&&this.getButtons())}}],[{key:"getImageSrc",value:function(e){if(!e||!e.filter)return!1;var t=e.filter(function(e){return e&&e.type&&"img"===e.type})[0];return!!t&&t.props.src}},{key:"Content",value:function(e){return yoast._wp.element.createElement("li",{className:"schema-how-to-step",key:e.id},yoast._wp.element.createElement(f.Content,{tagName:"strong",className:"schema-how-to-step-name",key:e.id+"-name",value:e.name}),yoast._wp.element.createElement(f.Content,{tagName:"p",className:"schema-how-to-step-text",key:e.id+"-text",value:e.text}))}}]),t}(c);t.default=h,h.propTypes={index:u.default.number.isRequired,step:u.default.object.isRequired,onChange:u.default.func.isRequired,insertStep:u.default.func.isRequired,removeStep:u.default.func.isRequired,onFocus:u.default.func.isRequired,editorRef:u.default.func.isRequired,onMoveUp:u.default.func.isRequired,onMoveDown:u.default.func.isRequired,subElement:u.default.string,isSelected:u.default.bool,isFirst:u.default.bool,isLast:u.default.bool,isUnorderedList:u.default.bool}},1435:function(e,t,s){"use strict";function n(e){if(Array.isArray(e)){for(var t=0,s=Array(e.length);t<e.length;t++)s[t]=e[t];return s}return Array.from(e)}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return parseInt(e,10)||t}function r(e){var t=e.days,s=e.hours,n=e.minutes,o=[];return 0!==t&&o.push((0,a.sprintf)((0,a._n)("%d day","%d days",t,"wordpress-seo"),t)),0!==s&&o.push((0,a.sprintf)((0,a._n)("%d hour","%d hours",s,"wordpress-seo"),s)),0!==n&&o.push((0,a.sprintf)((0,a._n)("%d minute","%d minutes",n,"wordpress-seo"),n)),o}function i(e){var t=r({days:o(e.days),hours:o(e.hours),minutes:o(e.minutes)});return 1===t.length?t[0]:2===t.length?a.sprintf.apply(void 0,[(0,a.__)("%s and %s","wordpress-seo")].concat(n(t))):3===t.length?a.sprintf.apply(void 0,[(0,a.__)("%s, %s and %s","wordpress-seo")].concat(n(t))):""}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var a=s(8)},1436:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=s(0),r=(n(o),s(8)),i=s(1437),a=n(i),u=window.wp.blocks.registerBlockType;t.default=function(){u("yoast/faq-block",{title:(0,r.__)("FAQ","wordpress-seo"),description:(0,r.__)("List your Frequently Asked Questions in an SEO-friendly way. You can only use one FAQ block per post.","wordpress-seo"),icon:"editor-ul",category:"yoast-structured-data-blocks",keywords:[(0,r.__)("FAQ","wordpress-seo"),(0,r.__)("Frequently Asked Questions","wordpress-seo")],supports:{multiple:!1},attributes:{title:{type:"array",source:"children",selector:".schema-faq-title"},jsonTitle:{type:"string"},questions:{type:"array"},additionalListCssClasses:{type:"string"}},edit:function(e){var t=e.attributes,s=e.setAttributes,n=e.className;return t.questions&&0!==t.questions.length||(t.questions=[{id:a.default.generateId("faq-question"),question:[],answer:[]}]),yoast._wp.element.createElement(a.default,{attributes:t,setAttributes:s,className:n})},save:function(e){var t=e.attributes;return yoast._wp.element.createElement(a.default.Content,t)}})}},1437:function(e,t,s){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var s=[],n=!0,o=!1,r=void 0;try{for(var i,a=e[Symbol.iterator]();!(n=(i=a.next()).done)&&(s.push(i.value),!t||s.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&a.return&&a.return()}finally{if(o)throw r}}return s}return function(t,s){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,s);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),l=s(0),c=(n(l),s(2)),p=n(c),d=s(15),f=n(d),m=s(8),h=s(1438),y=n(h),w=s(346),_=window.wp.editor.RichText,v=window.wp.components.IconButton,b=window.wp.element,g=b.Component,E=b.renderToString,q=function(e){function t(e){o(this,t);var s=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.state={focus:""},s.changeQuestion=s.changeQuestion.bind(s),s.insertQuestion=s.insertQuestion.bind(s),s.removeQuestion=s.removeQuestion.bind(s),s.swapQuestions=s.swapQuestions.bind(s),s.setFocus=s.setFocus.bind(s),s.editorRefs={},s}return i(t,e),u(t,[{key:"changeQuestion",value:function(e,t,s,n,o){var r=this.props.attributes.questions?this.props.attributes.questions.slice():[];if(!(o>=r.length)&&r[o].question===s&&r[o].answer===n){r[o]={id:r[o].id,question:e,answer:t,jsonQuestion:(0,w.stripHTML)(E(e)),jsonAnswer:(0,w.stripHTML)(E(t))};var i=y.default.getImageSrc(t);i&&(r[o].jsonImageSrc=i),this.props.setAttributes({questions:r})}}},{key:"insertQuestion",value:function(e){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=this.props.attributes.questions?this.props.attributes.questions.slice():[];(0,f.default)(e)&&(e=r.length-1);for(var i=r.length-1;i>e;)this.editorRefs[i+1+":question"]=this.editorRefs[i+":question"],this.editorRefs[i+1+":answer"]=this.editorRefs[i+":answer"],i--;r.splice(e+1,0,{id:t.generateId("faq-question"),question:s,answer:n,jsonQuestion:"",jsonAnswer:""}),this.props.setAttributes({questions:r}),o&&setTimeout(this.setFocus.bind(this,e+1+":question"))}},{key:"swapQuestions",value:function(e,t){var s=this.props.attributes.questions?this.props.attributes.questions.slice():[],n=s[e];s[e]=s[t],s[t]=n;var o=this.editorRefs[e+":question"];this.editorRefs[e+":question"]=this.editorRefs[t+":question"],this.editorRefs[t+":question"]=o;var r=this.editorRefs[e+":answer"];this.editorRefs[e+":answer"]=this.editorRefs[t+":answer"],this.editorRefs[t+":answer"]=r,this.props.setAttributes({questions:s});var i=this.state.focus.split(":"),u=a(i,2),l=u[0],c=u[1];l===""+e?this.setFocus(t+":"+c):l===""+t&&this.setFocus(e+":"+c)}},{key:"removeQuestion",value:function(e){var t=this.props.attributes.questions?this.props.attributes.questions.slice():[];t.splice(e,1),this.props.setAttributes({questions:t}),delete this.editorRefs[e+":question"],delete this.editorRefs[e+":answer"];for(var s=e+1;this.editorRefs[s+":question"]||this.editorRefs[s+":answer"];)this.editorRefs[s-1+":question"]=this.editorRefs[s+":question"],this.editorRefs[s-1+":answer"]=this.editorRefs[s+":answer"],s++;var n=t.length;delete this.editorRefs[n+":question"],delete this.editorRefs[n+":answer"];var o="title";this.editorRefs[e+":question"]?o=e+":question":this.editorRefs[e-1+":answer"]&&(o=e-1+":answer"),this.setFocus(o)}},{key:"setFocus",value:function(e){e!==this.state.focus&&(this.setState({focus:e}),this.editorRefs[e]&&this.editorRefs[e].focus())}},{key:"getAddQuestionButton",value:function(){var e=this;return yoast._wp.element.createElement(v,{icon:"insert",onClick:function(){return e.insertQuestion()},className:"editor-inserter__toggle"},(0,m.__)("Add question","wordpress-seo"))}},{key:"getQuestions",value:function(){var e=this,t=this.props.attributes;if(!t.questions)return null;var s=this.state.focus.split(":"),n=a(s,2),o=n[0],r=n[1];return t.questions.map(function(s,n){return yoast._wp.element.createElement(y.default,{key:s.id,attributes:s,insertQuestion:function(){return e.insertQuestion(n)},removeQuestion:function(){return e.removeQuestion(n)},editorRef:function(t,s){e.editorRefs[n+":"+t]=s},onChange:function(t,s,o,r){return e.changeQuestion(t,s,o,r,n)},onFocus:function(t){return e.setFocus(n+":"+t)},isSelected:o===""+n,subElement:r,onMoveUp:function(){return e.swapQuestions(n,n-1)},onMoveDown:function(){return e.swapQuestions(n,n+1)},isFirst:0===n,isLast:n===t.questions.length-1})})}},{key:"render",value:function(){var e=this,t=this.props,s=t.attributes,n=t.setAttributes,o=t.className,r=["schema-faq",o].filter(function(e){return e}).join(" ");return yoast._wp.element.createElement("div",{className:r},yoast._wp.element.createElement(_,{tagName:"strong",className:"schema-faq-title",value:s.title,isSelected:"title"===this.state.focus,setFocusedElement:function(){return e.setFocus("title")},onChange:function(e){return n({title:e,jsonTitle:(0,w.stripHTML)(E(e))})},onSetup:function(t){e.editorRefs.title=t},placeholder:(0,m.__)("Enter a title for your FAQ section","wordpress-seo"),keepPlaceholderOnFocus:!0}),yoast._wp.element.createElement("div",null,this.getQuestions()),yoast._wp.element.createElement("div",{className:"schema-faq-buttons"},this.getAddQuestionButton()))}}],[{key:"generateId",value:function(e){return e+"-"+(new Date).getTime()}},{key:"Content",value:function(e){var t=e.title,s=e.questions,n=e.className,o=s?s.map(function(e){return yoast._wp.element.createElement(y.default.Content,e)}):null,r=["schema-faq",n].filter(function(e){return e}).join(" ");return yoast._wp.element.createElement("div",{className:r},yoast._wp.element.createElement(_.Content,{tagName:"strong",className:"schema-faq-title",value:t,id:(0,w.stripHTML)(E(t)).toLowerCase().replace(/\s+/g,"-")}),o)}}]),t}(g);t.default=q,q.propTypes={attributes:p.default.object.isRequired,setAttributes:p.default.func.isRequired,className:p.default.string}},1438:function(e,t,s){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var s=0;s<t.length;s++){var n=t[s];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,s,n){return s&&e(t.prototype,s),n&&e(t,n),t}}(),a=s(2),u=function(e){return e&&e.__esModule?e:{default:e}}(a),l=s(8),c=window.wp.element.Component,p=window.wp.components.IconButton,d=window.wp.editor,f=d.RichText,m=d.MediaUpload,h=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return r(t,e),i(t,[{key:"getButtons",value:function(){var e=this,t=this.props,s=t.attributes,n=t.removeQuestion,o=t.insertQuestion;return yoast._wp.element.createElement("div",{className:"schema-faq-question-button-container"},yoast._wp.element.createElement(m,{onSelect:function(t){return e.onSelectImage(t)},type:"image",value:s.id,render:function(e){var t=e.open;return yoast._wp.element.createElement(p,{className:"schema-faq-question-button editor-inserter__toggle faq-question-add-media",icon:"insert",onClick:t},(0,l.__)("Add image","wordpress-seo"))}}),yoast._wp.element.createElement(p,{className:"schema-faq-question-button editor-inserter__toggle",icon:"trash",label:(0,l.__)("Delete question","wordpress-seo"),onClick:n}),yoast._wp.element.createElement(p,{className:"schema-faq-question-button editor-inserter__toggle",icon:"insert",label:(0,l.__)("Insert question","wordpress-seo"),onClick:o}))}},{key:"getMover",value:function(){return yoast._wp.element.createElement("div",{className:"schema-faq-question-mover"},!this.props.isFirst&&yoast._wp.element.createElement(p,{className:"editor-block-mover__control",onClick:this.props.onMoveUp,icon:"arrow-up-alt2",label:(0,l.__)("Move question up","wordpress-seo")}),!this.props.isLast&&yoast._wp.element.createElement(p,{className:"editor-block-mover__control",onClick:this.props.onMoveDown,icon:"arrow-down-alt2",label:(0,l.__)("Move question down","wordpress-seo")}))}},{key:"onSelectImage",value:function(e){var t=this.props.attributes,s=t.question,n=t.answer,o=n.slice(),r=yoast._wp.element.createElement("img",{key:e.id,alt:e.alt,src:e.url});o.push?o.push(r):o=[o,r],this.props.onChange(s,o,s,n)}},{key:"render",value:function(){var e=this.props,t=e.subElement,s=e.attributes,n=e.onChange,o=e.onFocus,r=e.isSelected,i=e.editorRef,a=s.id,u=s.question,c=s.answer;return yoast._wp.element.createElement("div",{className:"schema-faq-question",key:a},yoast._wp.element.createElement(f,{className:"schema-faq-question-question",tagName:"strong",onSetup:function(e){return i("question",e)},key:a+"-question",value:u,onChange:function(e){return n(e,c,u,c)},isSelected:r&&"question"===t,setFocusedElement:function(){return o("question")},placeholder:(0,l.__)("Enter a question","wordpress-seo"),keepPlaceholderOnFocus:!0}),yoast._wp.element.createElement(f,{className:"schema-faq-question-answer",tagName:"p",onSetup:function(e){return i("answer",e)},key:a+"-answer",value:c,onChange:function(e){return n(u,e,u,c)},isSelected:r&&"answer"===t,setFocusedElement:function(){return o("answer")},placeholder:(0,l.__)("Enter the answer to the question","wordpress-seo"),keepPlaceholderOnFocus:!0}),r&&this.getButtons(),r&&this.getMover())}}],[{key:"getImageSrc",value:function(e){if(!e||!e.filter)return!1;var t=e.filter(function(e){return e&&e.type&&"img"===e.type})[0];return!!t&&t.props.src}},{key:"Content",value:function(e){return yoast._wp.element.createElement("div",{className:"schema-faq-question",key:e.id},yoast._wp.element.createElement(f.Content,{tagName:"strong",className:"schema-faq-question-question",key:e.id+"-question",value:e.question}),yoast._wp.element.createElement(f.Content,{tagName:"p",className:"schema-faq-question-answer",key:e.id+"-answer",value:e.answer}))}}]),t}(c);t.default=h,h.propTypes={attributes:u.default.object.isRequired,onChange:u.default.func.isRequired,insertQuestion:u.default.func.isRequired,removeQuestion:u.default.func.isRequired,onFocus:u.default.func.isRequired,editorRef:u.default.func.isRequired,onMoveUp:u.default.func.isRequired,onMoveDown:u.default.func.isRequired,subElement:u.default.string,focus:u.default.string,isSelected:u.default.bool,isFirst:u.default.bool,isLast:u.default.bool}},15:function(e,t){function s(e){return void 0===e}e.exports=s},2:function(e,t,s){e.exports=s(114)()},20:function(e,t,s){function n(e){return"symbol"==typeof e||r(e)&&o(e)==i}var o=s(12),r=s(10),i="[object Symbol]";e.exports=n},3:function(e,t){var s=Array.isArray;e.exports=s},346:function(e,t,s){"use strict";function n(e){return e.charAt(0).toUpperCase()+e.slice(1)}function o(e){var t=document.createElement("DIV");return t.innerHTML=e,t.textContent||t.innerText||""}Object.defineProperty(t,"__esModule",{value:!0}),t.firstToUpperCase=n,t.stripHTML=o},44:function(e,t){function s(e,t){for(var s=-1,n=null==e?0:e.length,o=Array(n);++s<n;)o[s]=t(e[s],s,e);return o}e.exports=s},5:function(e,t){e.exports=window.yoast.styledComponents},6:function(e,t,s){var n=s(73),o="object"==typeof self&&self&&self.Object===Object&&self,r=n||o||Function("return this")();e.exports=r},73:function(e,t,s){(function(t){var s="object"==typeof t&&t&&t.Object===Object&&t;e.exports=s}).call(t,s(11))},8:function(e,t){e.exports=window.yoast._wp.i18n},84:function(e,t,s){function n(e){return null==e?"":o(e)}var o=s(92);e.exports=n},92:function(e,t,s){function n(e){if("string"==typeof e)return e;if(i(e))return r(e,n)+"";if(a(e))return c?c.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var o=s(13),r=s(44),i=s(3),a=s(20),u=1/0,l=o?o.prototype:void 0,c=l?l.toString:void 0;e.exports=n}},[1431]);