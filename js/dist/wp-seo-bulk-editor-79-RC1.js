yoastWebpackJsonp([21],{

/***/ 2052:
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\n/* global ajaxurl */\n/* global JSON */\n/* global wpseoBulkEditorNonce */\n/* jshint -W097 */\n(function () {\n\t\"use strict\";\n\n\tvar bulkEditor = function bulkEditor(currentTable) {\n\t\tvar newClass = currentTable.find(\"[class^=wpseo-new]\").first().attr(\"class\");\n\t\tvar newId = \"#\" + newClass + \"-\";\n\t\tvar existingId = newId.replace(\"new\", \"existing\");\n\t\tvar columnValue = currentTable.find(\"th[id^=col_existing_yoast]\").first().text().replace(\"Existing \", \"\");\n\n\t\tvar saveMethod = newClass.replace(\"-new-\", \"_save_\");\n\t\tvar saveAllMethod = \"wpseo_save_all_\" + currentTable.attr(\"class\").split(\"wpseo_bulk_\")[1];\n\n\t\tvar bulkType = saveMethod.replace(\"wpseo_save_\", \"\");\n\n\t\tvar options = {\n\t\t\tnewClass: \".\" + newClass,\n\t\t\tnewId: newId,\n\t\t\texistingId: existingId\n\t\t};\n\n\t\tvar instance = {\n\n\t\t\tsubmit_new: function submit_new(id) {\n\t\t\t\tinstance.submitNew(id);\n\t\t\t},\n\t\t\tsubmitNew: function submitNew(id) {\n\t\t\t\tvar newTarget = options.newId + id;\n\t\t\t\tvar existingTarget = options.existingId + id;\n\n\t\t\t\tvar newValue;\n\t\t\t\tif (jQuery(options.newId + id).prop(\"type\") === \"select-one\") {\n\t\t\t\t\tnewValue = jQuery(newTarget).find(\":selected\").text();\n\t\t\t\t} else {\n\t\t\t\t\tnewValue = jQuery(newTarget).val();\n\t\t\t\t}\n\n\t\t\t\tvar currentValue = jQuery(existingTarget).html();\n\n\t\t\t\tif (newValue === currentValue) {\n\t\t\t\t\tjQuery(newTarget).val(\"\");\n\t\t\t\t} else {\n\t\t\t\t\t/* eslint-disable no-alert */\n\t\t\t\t\tif (newValue === \"\" && !window.confirm(\"Are you sure you want to remove the existing \" + columnValue + \"?\")) {\n\t\t\t\t\t\t/* eslint-enable no-alert */\n\t\t\t\t\t\tjQuery(newTarget).val(\"\");\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\n\t\t\t\t\t/* eslint-disable camelcase */\n\t\t\t\t\tvar data = {\n\t\t\t\t\t\taction: saveMethod,\n\t\t\t\t\t\t_ajax_nonce: wpseoBulkEditorNonce,\n\t\t\t\t\t\twpseo_post_id: id,\n\t\t\t\t\t\tnew_value: newValue,\n\t\t\t\t\t\texisting_value: currentValue\n\t\t\t\t\t};\n\t\t\t\t\t/* eslint-enable camelcase */\n\n\t\t\t\t\tjQuery.post(ajaxurl, data, instance.handleResponse);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\tsubmit_all: function submit_all(ev) {\n\t\t\t\tinstance.submitAll(ev);\n\t\t\t},\n\t\t\tsubmitAll: function submitAll(ev) {\n\t\t\t\tev.preventDefault();\n\n\t\t\t\tvar data = {\n\t\t\t\t\taction: saveAllMethod,\n\t\t\t\t\t// eslint-disable-next-line\n\t\t\t\t\t_ajax_nonce: wpseoBulkEditorNonce\n\t\t\t\t};\n\n\t\t\t\tdata.send = false;\n\t\t\t\tdata.items = {};\n\t\t\t\tdata.existingItems = {};\n\n\t\t\t\tjQuery(options.newClass).each(function () {\n\t\t\t\t\tvar id = jQuery(this).data(\"id\");\n\t\t\t\t\tvar value = jQuery(this).val();\n\t\t\t\t\tvar existingValue = jQuery(options.existingId + id).html();\n\n\t\t\t\t\tif (value !== \"\") {\n\t\t\t\t\t\tif (value === existingValue) {\n\t\t\t\t\t\t\tjQuery(options.newId + id).val(\"\");\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tdata.send = true;\n\t\t\t\t\t\t\tdata.items[id] = value;\n\t\t\t\t\t\t\tdata.existingItems[id] = existingValue;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t});\n\n\t\t\t\tif (data.send) {\n\t\t\t\t\tjQuery.post(ajaxurl, data, instance.handleResponses);\n\t\t\t\t}\n\t\t\t},\n\n\t\t\thandle_response: function handle_response(response, status) {\n\t\t\t\tinstance.handleResponse(response, status);\n\t\t\t},\n\t\t\thandleResponse: function handleResponse(response, status) {\n\t\t\t\tif (status !== \"success\") {\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tvar resp = response;\n\t\t\t\tif (typeof resp === \"string\") {\n\t\t\t\t\tresp = JSON.parse(resp);\n\t\t\t\t}\n\n\t\t\t\tif (resp instanceof Array) {\n\t\t\t\t\tjQuery.each(resp, function () {\n\t\t\t\t\t\tinstance.handleResponse(this, status);\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\tif (resp.status === \"success\") {\n\t\t\t\t\t\tvar newValue = resp[\"new_\" + bulkType];\n\n\t\t\t\t\t\tjQuery(options.existingId + resp.post_id).html(newValue.replace(/\\\\(?!\\\\)/g, \"\"));\n\t\t\t\t\t\tjQuery(options.newId + resp.post_id).val(\"\");\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\n\t\t\thandle_responses: function handle_responses(responses, status) {\n\t\t\t\tinstance.handleResponses(responses, status);\n\t\t\t},\n\t\t\thandleResponses: function handleResponses(responses, status) {\n\t\t\t\tvar resps = jQuery.parseJSON(responses);\n\t\t\t\tjQuery.each(resps, function () {\n\t\t\t\t\tinstance.handleResponse(this, status);\n\t\t\t\t});\n\t\t\t},\n\n\t\t\tset_events: function set_events() {\n\t\t\t\tinstance.setEvents();\n\t\t\t},\n\t\t\tsetEvents: function setEvents() {\n\t\t\t\t// Save link.\n\t\t\t\tcurrentTable.find(\".wpseo-save\").click(function (event) {\n\t\t\t\t\tvar id = jQuery(this).data(\"id\");\n\n\t\t\t\t\tevent.preventDefault();\n\t\t\t\t\tinstance.submitNew(id, this);\n\t\t\t\t});\n\n\t\t\t\t// Save all link.\n\t\t\t\tcurrentTable.find(\".wpseo-save-all\").click(instance.submitAll);\n\n\t\t\t\t// Save title and meta description when pressing Enter on respective field and textarea.\n\t\t\t\tcurrentTable.find(options.newClass).keydown(function (ev) {\n\t\t\t\t\tif (ev.which === 13) {\n\t\t\t\t\t\tev.preventDefault();\n\t\t\t\t\t\tvar id = jQuery(this).data(\"id\");\n\t\t\t\t\t\tinstance.submitNew(id, this);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t};\n\n\t\treturn instance;\n\t};\n\t// eslint-disable-next-line\n\twindow.bulk_editor = bulkEditor;\n\twindow.bulkEditor = bulkEditor;\n\n\tjQuery(document).ready(function () {\n\t\tvar parentTables = jQuery('table[class*=\"wpseo_bulk\"]');\n\t\tparentTables.each(function (number, parentTable) {\n\t\t\tvar currentTable = jQuery(parentTable);\n\t\t\tvar bulkEdit = bulkEditor(currentTable);\n\n\t\t\tbulkEdit.setEvents();\n\t\t});\n\t});\n})();\n\n//////////////////\n// WEBPACK FOOTER\n// ./wp-seo-bulk-editor.js\n// module id = 2052\n// module chunks = 21\n\n//# sourceURL=webpack:///./wp-seo-bulk-editor.js?");

/***/ })

},[2052]);